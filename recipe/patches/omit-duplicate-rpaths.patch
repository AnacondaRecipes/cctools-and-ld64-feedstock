diff --git a/cctools/ld64/src/ld/Options.cpp b/cctools/ld64/src/ld/Options.cpp
index 5b8c755..7e7c25a 100644
--- a/cctools/ld64/src/ld/Options.cpp
+++ b/cctools/ld64/src/ld/Options.cpp
@@ -43,6 +43,7 @@
 #include <tapi/tapi.h>
 #endif /* TAPI_SUPPORT */
 
+#include <stdio.h>
 #include <vector>
 #include <map>
 #include <sstream>
@@ -3509,7 +3510,18 @@ void Options::parse(int argc, const char* argv[])
 			}
 			else if ( strcmp(arg, "-rpath") == 0 ) {
 				const char* path = checkForNullArgument(arg, argv[++i]);
-				fRPaths.push_back(path);
+				// Check for duplicates before adding
+				bool isDuplicate = false;
+				for (const char* existingPath : fRPaths) {
+					if (strcmp(existingPath, path) == 0) {
+						warning("duplicate rpath \"%s\" specified, ignoring", path);
+						isDuplicate = true;
+						break;
+					}
+				}
+				if (!isDuplicate) {
+					fRPaths.push_back(path);
+				}
 			}
 			else if ( strcmp(arg, "-read_only_stubs") == 0 ) {
 				fReadOnlyx86Stubs = true;
